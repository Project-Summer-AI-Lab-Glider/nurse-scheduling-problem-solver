<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Scoring (penalting) · Nurse Scheduling Problem Solver</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Nurse Scheduling Problem Solver</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Nurse Scheduling Solver</a></li><li><a class="tocitem" href="../communication/">Frontend communication</a></li><li class="is-active"><a class="tocitem" href>Scoring (penalting)</a><ul class="internal"><li><a class="tocitem" href="#Constraints-overview"><span>Constraints overview</span></a></li><li><a class="tocitem" href="#Employees&#39;-presence"><span>Employees&#39; presence</span></a></li><li><a class="tocitem" href="#Employees’-rights"><span>Employees’ rights</span></a></li><li><a class="tocitem" href="#Employees’-working-time"><span>Employees’ working time</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Scoring (penalting)</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Scoring (penalting)</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Project-Summer-AI-Lab-Glider/nurse-scheduling-problem-solver/blob/master/docs/src/scoring.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Scoring-(penalting)"><a class="docs-heading-anchor" href="#Scoring-(penalting)">Scoring (penalting)</a><a id="Scoring-(penalting)-1"></a><a class="docs-heading-anchor-permalink" href="#Scoring-(penalting)" title="Permalink"></a></h1><hr/><p>The result of scoring is a sum of the following three subscores:</p><ul><li>presence - the proper number of employees and nurses during a day,</li><li>rights - controlling the amount of free time of each worker properly,</li><li>working time - the magnitude of undertime and overtime of each employee.</li></ul><h2 id="Constraints-overview"><a class="docs-heading-anchor" href="#Constraints-overview">Constraints overview</a><a id="Constraints-overview-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-overview" title="Permalink"></a></h2><ul><li>always at least one nurse</li><li>at least one staff member for each three children during daytime</li><li>at least one staff member for each five children during night</li><li>only members of the same team can work simultaneously</li><li>proper rest time between consecutive working shifts (24h, 16h and 11h)</li><li>each worker has 35h off once a week (counted from MO to SU)</li><li>undertime and overtime hours</li><li>vacation and sick leave are untouchable (implicit constraint)</li></ul><h2 id="Employees&#39;-presence"><a class="docs-heading-anchor" href="#Employees&#39;-presence">Employees&#39; presence</a><a id="Employees&#39;-presence-1"></a><a class="docs-heading-anchor-permalink" href="#Employees&#39;-presence" title="Permalink"></a></h2><p>For each day, the solver evaluates the presence of all employees (workers and nurses) in the following way:</p><h3 id="Staff&#39;s-presence:"><a class="docs-heading-anchor" href="#Staff&#39;s-presence:">Staff&#39;s presence:</a><a id="Staff&#39;s-presence:-1"></a><a class="docs-heading-anchor-permalink" href="#Staff&#39;s-presence:" title="Permalink"></a></h3><ol><li>the required number of employees during daytime equals to the number of children divided by three (the number of children per worker at daytime) minus the number of extra workers,</li><li>the required number of employees during night equals to the number of children divided by five (the number of children per worker at night),</li><li>the score is increased by the <strong>PEN<em>LACKING</em>WORKER</strong> (default 40) multiplied by the number of employees lacking each hour.</li></ol><h3 id="Nurses&#39;-presence:"><a class="docs-heading-anchor" href="#Nurses&#39;-presence:">Nurses&#39; presence:</a><a id="Nurses&#39;-presence:-1"></a><a class="docs-heading-anchor-permalink" href="#Nurses&#39;-presence:" title="Permalink"></a></h3><ol><li>it is evaluated if there is, at least, one nurse in each hour of a day,</li><li>the score is increased by the <strong>PEN<em>LACKING</em>NURSE</strong> (default 50) multiplied by the number of hours with absence of a nurse.</li></ol><h3 id="Teams&#39;s-presence:"><a class="docs-heading-anchor" href="#Teams&#39;s-presence:">Teams&#39;s presence:</a><a id="Teams&#39;s-presence:-1"></a><a class="docs-heading-anchor-permalink" href="#Teams&#39;s-presence:" title="Permalink"></a></h3><ol><li>for each hour number of distinct teams is evaluated</li><li>the score is increased by the <strong>PEN<em>MULTIPLE</em>TEAMS</strong> (default 20) multiplied by the number of teams for each hour.</li></ol><h2 id="Employees’-rights"><a class="docs-heading-anchor" href="#Employees’-rights">Employees’ rights</a><a id="Employees’-rights-1"></a><a class="docs-heading-anchor-permalink" href="#Employees’-rights" title="Permalink"></a></h2><h3 id="Disallowed-shift-sequences"><a class="docs-heading-anchor" href="#Disallowed-shift-sequences">Disallowed shift sequences</a><a id="Disallowed-shift-sequences-1"></a><a class="docs-heading-anchor-permalink" href="#Disallowed-shift-sequences" title="Permalink"></a></h3><p>The algorithm evaluates succession of consecutive shifts to maintain a proper free time between working shifts of employees. The disallowed shift sequence is a two-element sequence stating the two working shifts cannot happen one after another. The sequences are determined by the duration and the ending hour first shift.</p><table><tr><th style="text-align: center">Working shift duration (hours)</th><th style="text-align: center">Required free time (hours)</th></tr><tr><td style="text-align: center">&lt;=8</td><td style="text-align: center">11</td></tr><tr><td style="text-align: center">9-12</td><td style="text-align: center">16</td></tr><tr><td style="text-align: center">&gt;=13</td><td style="text-align: center">24</td></tr></table><p>Each disallowed sequence in a schedule increases the score by  <strong>PEN<em>DISALLOWED</em>SHIFT_SEQUENCE</strong> (default 10).</p><h3 id="Long-breaks"><a class="docs-heading-anchor" href="#Long-breaks">Long breaks</a><a id="Long-breaks-1"></a><a class="docs-heading-anchor-permalink" href="#Long-breaks" title="Permalink"></a></h3><p>Each employee must have at least one long break each week. It means a sequence of working and non-working shifts gives at least 35-hour uninterrupted free time. The long breaks are evaluated only from Monday to Sunday, the break between consecutive weeks does not value.</p><p>Each week lacking a long break for each employee increases the score by <strong>PEN<em>NO</em>LONG_BREAK</strong> (default 20).</p><h2 id="Employees’-working-time"><a class="docs-heading-anchor" href="#Employees’-working-time">Employees’ working time</a><a id="Employees’-working-time-1"></a><a class="docs-heading-anchor-permalink" href="#Employees’-working-time" title="Permalink"></a></h2><p>The algorithm evaluates each employees’ working time in the following way:</p><ol><li>the number of exempted days equals to the sum of holidays, sick leaves and other non-working shifts,</li><li>the required working time as the difference between the number of working days in a month and the exempted days multiplied by the number of hours an employee works per day (it results from employment or mandate contract),</li><li>the actual working time equals to the sum of worker&#39;s shift lengths.</li></ol><p>If the difference between actual and required working time is larger than <strong>MAX_OVERTIME</strong> (default 10) * days<em>in</em>month / 7, the score is increased by the difference between the overtime and the threshold.</p><p>If the difference between actual and required work time is smaller than <strong>MAX_UNDERTIME</strong> (default 0) * days<em>in</em>month / 7, the total score is increased by the difference between the threshold and the undertime.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../communication/">« Frontend communication</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 18 April 2021 19:04">Sunday 18 April 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
